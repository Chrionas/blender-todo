# MechaExportFBX使用说明

#### 1. 使用步骤

插件使用环境blender 3.0

打开 blender，点击 **Edit — Preferences — Add_ons — Install** ，选择blmaxbones插件的压缩包直接安装，勾选后运行 ；

> 中文 ： 编辑 — 偏好设置 — 插件 — 安装

#### 2. 使用步骤

##### 1. Rig

负责导出机甲的Rig的插件板块，导出对应资源到Unity引擎中，主要有导出Rig的FBX文件和约束配置的Json文件；
a. 导出蒙皮文件
导出选择物体 ：默认勾选，导出选中的物体
骨骼 ：导出的物体是否包含骨骼
蒙皮文件 ：导出的物体是否包含蒙皮文件
Rig名称 ：可以对导出的Rig进行名称替换，（默认是按骨架的名字导出物件）
选择相应的骨骼，设置好相关的参数进行导出；

b. 导出约束配置
导出约束配置 ：默认不勾选，导出选中的物体的约束配置文件
轴向 ：默认YX，（Z-X测试使用，不使用）
单位 ：默认米(M)，以Unity的单位为主，保持默认
约束开关 ：导出约束配置需要识别场景中CST Switch物件，可手动指定
配置名称 ：可以对导出的约束进行名称替换，（默认是按骨架的名字导出约束）
选择相应的骨骼，设置好相关的参数进行导出约束配置文件；

也可同时导出Rig蒙皮文件和配置文件， 需同时勾选；

##### 2. Batch

执行一系列的批处理操作，主要是对多个Blender文件执行操作，分别有导出动画、加载新的骨骼动画以及批量执行脚本；
a. 导出动画
导出单个动画：
选择相应的骨骼点击导出当前动画即可导出当前文件的单段动画片段；
批量导出动画：
读取路径 ：读取要批处理多个Blender文件的路径
导出路径 ：导出动画文件的路径

b. 加载动画
将动画加载到新的骨骼中并运用
读取路径 ：读取要批处理多个Blender文件的路径
储存路径 ：加载新的动画的Blender文件保存的路径

C. 批量执行脚本
对多个Blender执行自定义脚本，对多个Blender文件执行可扩展的操作；
读取路径 ：读取要批处理多个Blender文件的路径
脚本路径 ：读取自定义脚本的路径

##### 3. 工具集

工具集合多个骨骼制作过程中的小工具；
a. 约束控制器
每个需要导出Unity引擎中识别的骨骼都需要添加驱动器，此工具可以执行快速添加驱动器开关

b. Rig工具
根据Rigify生成的Rig骨架，点击创建符合机甲规则的人形骨架；

c. 缩放工具
选择基础骨架，设置参数进行缩放
